<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Tesla Homepage</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#262626" />
    <meta property="og:type" content="website" />
    <meta
      property="og:site_name"
      content="Tesla Homepage"
    />
    <meta property="og:title" content="Tesla Homepage" />
    <meta
      property="og:description"
      content="A Better Theater for your Tesla!"
    />
    <meta property="og:url" content="https://telsa.laabs.biz/" />
    <meta property="og:image" content="https://tesla.laabs.biz/img/logo-200.png" />
    <link rel="shortcut icon" href="img/favicon.ico" />
    <link rel="canonical" href="https://tesla.laabs.biz/" />
    <link rel="stylesheet" href="styles.css?r=1" />

    <style>
      body {
        font-family: Arial, Helvetica, sans-serif;
      }
    </style>
  </head>

  <body>
    <p id="teslaBrowser" style="text-align: center; display: none">
      This website is made for your Tesla browser. Open it on there to get the
      full experience!
    </p>
    <div class="container" id="services">
      <button onclick="showOverlay()" id="web">
        <img
          src="img/web.svg"
          height="78px"
          width="100%"
          alt="World Wide Web"
          class="logo"
        />
      </button>
    </div>
    <div class="modal" id="overlay" onClick="closeDialog('overlay')">
      <input
        type="text"
        id="path"
        value="https://"
        onClick="window.event.stopPropagation();"
      />
    </div>

    <div class="footer">
      <div class="btnGroup">
        <button onClick="openEditModal();">Edit</button>
      </div>

      <div id="overlayfull" style="display: none; text-align: center">
        <button class="btnBasic" onClick="goFullScreen();">
          Go fullscreen
        </button>
      </div>
    </div>

    <div class="shadow" id="shadow">
      <img src="img/loading.svg" class="loading" />
    </div>

    <div class="modal" id="editModal">
      <p>
        Select the services you would like to be hidden from your
        dashboard
      </p>
      <br />
      <div id="serviceItems"></div>
      <br />
      <button class="btnDone" onClick="window.location.reload();">Done</button>
    </div>

    <script>
      const baseServices = [
        { 
          name: "Plex", 
          url: "https://app.plex.tv", 
          image: "plex.svg", 
        },
        { 
          name: "Channels DVR", 
          url: "https://my.channelsdev.net", 
          image: "channels.svg", 
        },
        {
          name: "Netflix",
          url: "https://netflix.com",
          image: "netflix.svg",
        },
        {
          name: "AppleTV +",
          url: "https://tv.apple.com",
          image: "appletvplus.svg",
        },
        {
          name: "YouTube TV",
          url: "https://tv.youtube.com",
          image: "youtubetv.svg",
        },
        {
          name: "Max",
          url: "https://max.com",
          image: "max.svg",
        },
        {
          name: "Prime",
          url: "https://www.primevideo.com",
          image: "prime.svg",
        },
        {
          name: "Disney+",
          url: "https://www.disneyplus.com",
          image: "disneyplus.svg",
        },
        {
          name: "Hulu",
          url: "https://hulu.com",
          image: "hulu.svg",
        },
        {
          name: "Peacock",
          url: "https://www.peacocktv.com/watch/home",
          image: "peacock.svg",
        },
        {
          name: "Paramount+",
          url: "https://www.paramountplus.com/",
          image: "paramount.svg",
        },        
        {
          name: "YouTube",
          url: "https://www.youtube.com",
          image: "youtube.svg",
        },
        {
          name: "YouTube Music",
          url: "https://music.youtube.com",
          image: "youtubemusic.svg",
        },
        {
          name: "Waze",
          url: "https://waze.com/livemap",
          image: "waze.svg",
        },
        {
          name: "A Better Route Planner",
          url: "https://new.abetterrouteplanner.com",
          image: "abrp-rectangle.png",
        },
        {
          name: "Plugshare",
          url: "https://www.plugshare.com/",
          image: "plugshare.svg",
        },
        {
          name: "Tesla",
          url: "https://tesla.com/teslaaccount",
          image: "tesla.svg",
        },
        {
          name: "Google Calendar",
          url: "https://calendar.google.com",
          image: "googlecal.svg",
        }        
      ];

      var services = baseServices;
      if (localStorage.getItem("hidden")) {
        var hiddenItems = JSON.parse(localStorage.getItem("hidden"));
        services = baseServices.filter(
          (x) => !hiddenItems.find((h) => h === x.image)
        );
      }

      for (const obj of services.reverse()) {
        document
          .getElementById("services")
          .insertAdjacentHTML(
            "afterbegin",
            `<button onClick="loading('${obj["url"]}')"><img src="img/${obj["image"]}" alt="${obj["image"]}" width="100%" height="100%" class="logo" title="${obj["name"]}" /></button>`
          );
      }
    </script>

    <script type="text/javascript" src="js.js?r=1"></script>
  </body>
</html>
