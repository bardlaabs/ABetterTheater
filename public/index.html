<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Tesla Homepage</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#262626" />
    <meta property="og:type" content="website" />
    <meta
      property="og:site_name"
      content="Tesla Homepage"
    />
    <meta property="og:title" content="Tesla Homepage" />
    <meta
      property="og:description"
      content="A Better Theater for your Tesla!"
    />
    <meta property="og:url" content="https://telsa.laabs.biz/" />
    <meta property="og:image" content="https://tesla.laabs.biz/img/logo-200.png" />
    <link rel="shortcut icon" href="img/favicon.ico" />
    <link rel="canonical" href="https://tesla.laabs.biz/" />
    <link rel="stylesheet" href="styles.css?r=1" />

    <style>
      body {
        font-family: Arial, Helvetica, sans-serif;
      }
    </style>
  </head>

  <body>
    <p id="teslaBrowser" style="text-align: center; display: none">
      This website is made for your Tesla browser. Open it on there to get the
      full experience!
    </p>
    <div class="container" id="services">
      <button onclick="showOverlay()" id="web">
        <img
          src="img/web.svg"
          height="78px"
          width="100%"
          alt="World Wide Web"
          class="logo"
        />
      </button>
    </div>
    <div class="modal" id="overlay" onClick="closeDialog('overlay')">
      <input
        type="text"
        id="path"
        value="https://"
        onClick="window.event.stopPropagation();"
      />
    </div>

    <div class="footer">
      <div class="btnGroup">
        <button onClick="openEditModal();">Edit</button>
      </div>

      <div id="overlayfull" style="display: none; text-align: center">
        <button class="btnBasic" onClick="goFullScreen();">
          Go fullscreen
        </button>
      </div>
    </div>

    <div class="shadow" id="shadow">
      <img src="img/loading.svg" class="loading" />
    </div>

    <div class="modal" id="editModal">
      <p>
        Select the services you would like to be hidden from your
        dashboard
      </p>
      <br />
      <div id="serviceItems"></div>
      <br />
      <button class="btnDone" onClick="window.location.reload();">Done</button>
    </div>

    <script>
      const baseServices = [
        { url: "https://app.plex.tv", image: "plex", name: "Plex", geo: false },
        {
          url: "https://www.hulu.com",
          image: "hulu",
          name: "Hulu",
          geo: false,
        },
        {
          url: "https://www.primevideo.com",
          image: "prime",
          name: "Prime Video",
          geo: false,
        },
        {
          url: "https://netflix.com",
          image: "netflix",
          name: "Netflix",
          geo: false,
        },
        {
          url: "https://www.disneyplus.com",
          image: "disneyplus",
          name: "Disney Plus",
          geo: false,
        },
        {
          url: "https://www.youtube.com",
          image: "youtube",
          name: "YouTube",
          geo: false,
        },
        {
          url: "https://www.twitch.tv",
          image: "twitch",
          name: "Twitch",
          geo: false,
        },
        {
          url: "https://www.neontv.co.nz",
          image: "neon",
          name: "NEON",
          geo: false,
        },
        {
          url: "https://www.tvnz.co.nz",
          image: "tvnz",
          name: "TV NZ",
          geo: true,
        },
        {
          url: "https://www.sparksport.co.nz",
          image: "sparksport",
          name: "Spark Sport",
          geo: true,
        },
        {
          url: "https://www.skygo.co.nz",
          image: "skygo",
          name: "Sky Go",
          geo: true,
        },
        {
          url: "https://www.skysportnow.co.nz",
          image: "skysportnow",
          name: "Sky Sport Now",
          geo: true,
        },
        {
          url: "https://www.threenow.co.nz",
          image: "threenow",
          name: "Three now",
          geo: true,
        },
        {
          url: "https://www.crunchyroll.com",
          image: "crunchyroll",
          name: "Crunchyroll",
          geo: false,
        },
        {
          url: "https://www.funimation.com",
          image: "funimation",
          name: "Funimation",
          geo: false,
        },
        {
          url: "https://music.youtube.com",
          image: "youtubemusic",
          name: "YouTube Music",
          geo: false,
        },
        {
          url: "https://tv.apple.com/",
          image: "appletvplus",
          name: "Apple TV +",
          geo: false,
        },
      ];

      var services = baseServices;
      if (localStorage.getItem("hidden")) {
        var hiddenItems = JSON.parse(localStorage.getItem("hidden"));
        services = baseServices.filter(
          (x) => !hiddenItems.find((h) => h === x.image)
        );
      }

      for (const obj of services.reverse()) {
        document
          .getElementById("services")
          .insertAdjacentHTML(
            "afterbegin",
            `<button onClick="loading('${obj["url"]}', ${obj["geo"]})"><img src="img/${obj["image"]}.svg" alt="${obj["image"]}" width="100%" height="100%" class="logo" /></button>`
          );
      }
    </script>

    <script type="text/javascript" src="js.js?r=1"></script>
  </body>
</html>
